{{define "title"}}Welcome to go-twt{{end}}

{{define "content"}}
<div class="auth-page">
  <!-- Logo -->
  <div class="auth-logo">
    <svg viewBox="0 0 24 24">
      <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/>
    </svg>
  </div>

  <!-- Auth Card -->
  <div class="auth-card">
    <h2>Welcome to go-twt</h2>

    <!-- Show error if exists -->
    {{if .Error}}
    <div class="error-message">
      {{.Error}}
    </div>
    {{end}}

    <!-- Tabs -->
    <div class="auth-tabs">
      <button class="auth-tab active" onclick="switchTab('login')">Login</button>
      <button class="auth-tab" onclick="switchTab('signup')">Sign Up</button>
    </div>

    <!-- Login Form -->
    <div id="login-form" class="auth-form active">
      <form action="/v1/login" method="post">
        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
              <polyline points="22,6 12,13 2,6"/>
            </svg>
          </div>
          <input 
            type="email" 
            name="email" 
            placeholder="EMAIL" 
            required
            autocomplete="email">
        </div>

        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
            </svg>
          </div>
          <input 
            type="password" 
            name="password" 
            placeholder="PASSWORD" 
            required
            autocomplete="current-password">
        </div>

        <button type="submit" class="auth-button">Login</button>

        <div class="forgot-password">
          <a href="/forgot-password">Forgot password?</a>
        </div>
      </form>
    </div>

    <!-- Signup Form -->
    <div id="signup-form" class="auth-form">
      <form action="/v1/signup" method="post">
        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
          </div>
          <input 
            type="text" 
            name="username" 
            placeholder="USERNAME" 
            required
            autocomplete="username">
          <small class="input-hint">This will be your @username</small>
        </div>

        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
              <polyline points="22,6 12,13 2,6"/>
            </svg>
          </div>
          <input 
            type="email" 
            name="email" 
            placeholder="EMAIL" 
            required
            autocomplete="email">
        </div>

        <div class="input-group">
          <div class="input-icon">
            <svg viewBox="0 0 24 24">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
              <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
            </svg>
          </div>
          <input 
            type="password" 
            name="password" 
            placeholder="PASSWORD" 
            required
            minlength="8"
            autocomplete="new-password">
          <small class="input-hint">At least 8 characters</small>
        </div>

        <button type="submit" class="auth-button">Create Account</button>
      </form>
    </div>
  </div>
</div>

<script>
function switchTab(tab) {
  // Update tab buttons
  document.querySelectorAll('.auth-tab').forEach(btn => {
    btn.classList.remove('active');
  });
  event.target.classList.add('active');

  // Update forms
  document.querySelectorAll('.auth-form').forEach(form => {
    form.classList.remove('active');
  });
  document.getElementById(tab + '-form').classList.add('active');
}
</script>
{{end}}
